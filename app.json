{
  "_comment": "This file is generated. Please edit .homeycompose/app.json instead.",
  "id": "com.Meian.zigbee",
  "version": "0.1.1",
  "compatibility": ">=12.0.0",
  "platforms": [
    "local"
  ],
  "sdk": 3,
  "name": {
    "en": "Meian"
  },
  "description": {
    "en": "Meian Zigbee app"
  },
  "tags": {
    "en": [
      "Tuya",
      "Meian"
    ]
  },
  "category": [
    "lights",
    "security",
    "appliances"
  ],
  "brandColor": "#FF4800",
  "permissions": [
    "homey:wireless:zigbee"
  ],
  "homeyCommunityTopicId": 0,
  "source": "https://github.com/WJGvdVelden/MeianSiren",
  "support": "mailto:nedlevw@gmail.com",
  "bugs": {
    "url": "https://github.com/WJGvdVelden/MeianSiren/issues"
  },
  "images": {
    "large": "/assets/images/large.png",
    "small": "/assets/images/small.png"
  },
  "author": {
    "name": "Wim van der Velden",
    "email": "nedlevw@gmail.com"
  },
  "contributors": {
    "developers": [
      {
        "name": "Johan Bendz",
        "email": "johan_bendz@hotmail.com"
      }
    ]
  },
  "flow": {
    "actions": [
      {
        "id": "start_alarm",
        "title": {
          "en": "Start alarm"
        },
        "titleFormatted": {
          "en": "Start alarm with [[mode]] at [[volume]]% volume for [[duration]] seconds"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=plugin_siren"
          },
          {
            "name": "mode",
            "type": "dropdown",
            "values": [
              {
                "id": "sound",
                "title": {
                  "en": "Siren only"
                }
              },
              {
                "id": "strobe",
                "title": {
                  "en": "Strobe only"
                }
              },
              {
                "id": "both",
                "title": {
                  "en": "Siren + Strobe"
                }
              }
            ]
          },
          {
            "name": "duration",
            "type": "number",
            "title": {
              "en": "Duration (s)"
            },
            "min": 0,
            "max": 3600,
            "step": 1
          },
          {
            "name": "volume",
            "type": "range",
            "min": 0,
            "max": 100,
            "step": 1,
            "title": {
              "en": "Volume %"
            }
          }
        ]
      },
      {
        "id": "stop_alarm",
        "title": {
          "en": "Stop alarm"
        },
        "titleFormatted": {
          "en": "Stop alarm"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=plugin_siren"
          }
        ]
      },
      {
        "id": "set_volume",
        "title": {
          "en": "Set alarm volume"
        },
        "titleFormatted": {
          "en": "Set alarm volume to [[volume]]%"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=plugin_siren"
          },
          {
            "name": "volume",
            "type": "range",
            "min": 0,
            "max": 100,
            "step": 1,
            "title": {
              "en": "Volume %"
            }
          }
        ]
      },
      {
        "id": "trigger_doorbell",
        "title": {
          "en": "Trigger doorbell"
        },
        "titleFormatted": {
          "en": "Trigger doorbell"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=plugin_siren"
          }
        ]
      }
    ]
  },
  "drivers": [
    {
      "id": "plugin_siren",
      "name": {
        "en": "Plugin Siren"
      },
      "class": "siren",
      "zigbee": {
        "manufacturerName": "_TZ3000_cipibmnp",
        "productId": "TS0224",
        "endpoints": {
          "1": {
            "clusters": [
              1,
              3,
              4,
              5,
              6,
              768,
              1280,
              1282
            ],
            "bindings": [
              6,
              768
            ]
          }
        }
      },
      "capabilities": [
        "onoff",
        "alarmToggle"
      ],
      "platforms": [
        "local"
      ],
      "connectivity": [
        "zigbee"
      ],
      "images": {
        "small": "/drivers/plugin_siren/assets/images/small.png",
        "large": "/drivers/plugin_siren/assets/images/large.png"
      },
      "learnmode": {
        "image": "/drivers/plugin_siren/assets/icon.svg",
        "instruction": {
          "en": "Power on to enter pairing mode or press button 5 seconds until light blinks."
        }
      },
      "settings": [
        {
          "id": "defaultAlarm",
          "type": "dropdown",
          "label": {
            "en": "Default alarm setting"
          },
          "hint": {
            "en": "Choose sound only, strobe only or both"
          },
          "values": [
            {
              "id": "both",
              "label": {
                "en": "Both sound and strobe"
              }
            },
            {
              "id": "sound",
              "label": {
                "en": "Only sound"
              }
            },
            {
              "id": "strobe",
              "label": {
                "en": "Only strobe"
              }
            }
          ]
        },
        {
          "id": "alarmDuration",
          "type": "number",
          "label": {
            "en": "Duration"
          },
          "hint": {
            "en": "Set a default duration in seconds, max 3600 \ndefault: 60"
          },
          "value": 60,
          "attr": {
            "min": 0,
            "max": 3600,
            "step": 1
          }
        },
        {
          "id": "alarmVolume",
          "type": "number",
          "uiComponent": "slider",
          "label": {
            "en": "Alarm Loudness"
          },
          "hint": {
            "en": "Set the loudness of the alarm in %"
          },
          "value": 50,
          "attr": {
            "min": 0,
            "max": 100,
            "step": 1
          }
        },
        {
          "id": "bellVolume",
          "type": "number",
          "uiComponent": "slider",
          "label": {
            "en": "Volume of doorbell"
          },
          "hint": {
            "en": "Set the volume of the doorbell from 0 to 100"
          },
          "value": 50,
          "attr": {
            "min": 0,
            "max": 100,
            "step": 1
          }
        }
      ]
    }
  ],
  "capabilities": {
    "alarmToggle": {
      "type": "boolean",
      "title": {
        "en": "Alarm",
        "nl": "Alarm"
      },
      "uiComponent": "toggle",
      "getable": true,
      "setable": true
    }
  }
}